<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Sunda Nuswantara OS - Panel Kesetaraan Nilai</title>
    <style>
        body { font-family: 'Courier New', monospace; background: #050505; color: #ffcc00; padding: 20px; }
        .container { max-width: 1400px; margin: auto; border: 5px solid #ffcc00; padding: 30px; box-shadow: 0 0 50px rgba(255, 204, 0, 0.3); }
        h1 { text-align: center; color: #fff; text-transform: uppercase; letter-spacing: 5px; margin-bottom: 10px; }
        .sub-header { text-align: center; color: #00ffcc; font-size: 1.2em; margin-bottom: 30px; border-bottom: 1px solid #333; padding-bottom: 15px; }

        /* Grid Perbandingan */
        .comparison-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
        .panel-box { background: #111; border: 3px solid #ffcc00; padding: 20px; position: relative; }
        .panel-box.value { border-color: #00ffcc; }
        
        .box-title { font-size: 1.5em; font-weight: bold; text-transform: uppercase; margin-bottom: 15px; text-align: center; }
        .box-title.price { color: #ffcc00; }
        .box-title.value { color: #00ffcc; }

        .stat-line { display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 1.2em; border-bottom: 1px dashed #333; padding-bottom: 5px; }
        .stat-label { color: #aaa; }
        .stat-val { font-weight: bold; color: #fff; }

        /* Highlight Utama */
        .main-anchor { text-align: center; background: #1a0000; border: 2px solid #ff4d4d; padding: 20px; margin-bottom: 30px; }
        .anchor-price { font-size: 3em; color: #ff4d4d; font-weight: bold; text-shadow: 0 0 15px rgba(255, 77, 77, 0.5); }

        #status-bar { text-align: center; padding: 10px; margin-bottom: 20px; border: 2px dashed #00ffcc; color: #00ffcc; font-weight: bold; }
        
        .edu-note { background: rgba(0, 255, 204, 0.05); border-left: 10px solid #00ffcc; padding: 20px; color: #fff; line-height: 1.6; font-size: 1.1em; }
        .warning-note { background: rgba(255, 77, 77, 0.05); border-left: 10px solid #ff4d4d; padding: 20px; color: #fff; line-height: 1.6; font-size: 1.1em; margin-top: 20px; }
        
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
        .live-dot { height: 10px; width: 10px; background-color: #ff4d4d; border-radius: 50%; display: inline-block; animation: pulse 1s infinite; }
    </style>
</head>
<body>

<div class="container">
    <h1>PANEL STANDAR KESETARAAN NILAI</h1>
    <div class="sub-header">PROTOKOL RECOVERY EKONOMI MIKRO - SUNDA NUSWANTARA OS</div>

    <div id="status-bar">SINKRONISASI JANGKAR "INDUK" AKTIF...</div>

    <div class="main-anchor">
        <div style="text-transform: uppercase; color: #ff4d4d; letter-spacing: 2px;">Standar Acuan Kesetaraan Harga (Benteng Deflasi)</div>
        <div class="anchor-price" id="anchor-idr">Rp ---</div>
        <div style="color: #aaa;">"Harga inilah yang menjadi batas bawah martabat transaksi Anda"</div>
    </div>

    <div class="comparison-grid">
        <div class="panel-box">
            <div class="box-title price">1. KESETARAAN HARGA</div>
            <div class="stat-line">
                <span class="stat-label">Satuan Ukur:</span>
                <span class="stat-val">1 DINAR (EMAS)</span>
            </div>
            <div class="stat-line">
                <span class="stat-label">Berat Murni:</span>
                <span class="stat-val">4.25 Gram</span>
            </div>
            <div class="stat-line">
                <span class="stat-label">Harga Pasar (Live):</span>
                <span class="stat-val" id="market-idr" style="color:#ffcc00">Rp ---</span>
            </div>
            <div class="stat-line">
                <span class="stat-label">Tujuan:</span>
                <span class="stat-val" style="color:#00ffcc">Cegah Deflasi</span>
            </div>
        </div>

        <div class="panel-box value">
            <div class="box-title value">2. KESETARAAN NILAI</div>
            <div class="stat-line">
                <span class="stat-label">Satuan Ukur:</span>
                <span class="stat-val">BARANG vs BARANG</span>
            </div>
            <div class="stat-line">
                <span class="stat-label">Rasio Receh:</span>
                <span class="stat-val">1 DINAR = 27 DIRHAM</span>
            </div>
            <div class="stat-line">
                <span class="stat-label">Daya Beli Riil:</span>
                <span class="stat-val">1 Kambing / 100kg Beras</span>
            </div>
            <div class="stat-line">
                <span class="stat-label">Tujuan:</span>
                <span class="stat-val" style="color:#ff4d4d">Lawan Hiper-Inflasi</span>
            </div>
        </div>
    </div>

    <div class="edu-section">
        <div class="edu-note">
            <strong>MELEK NILAI (PHASE 1):</strong><br>
            Dalam kondisi ekonomi normal, kita gunakan <strong>Kesetaraan Harga</strong>. Jika harga barang di pasar turun drastis (Deflasi), acuan Rp <span id="edu-anchor-val">---</span> per Dinar tetap menjadi patokan Anda agar tidak rugi tenaga.
        </div>
        
        <div class="warning-note">
            <strong>VONIS HIPER-INFLASI (PHASE 2):</strong><br>
            Jika terjadi hiper-inflasi, lupakan Rupiah! Gunakan <strong>Kesetaraan Nilai</strong>. Transaksi tidak lagi bicara berapa "Harga" kambing dalam Rupiah, tapi berapa "Isi" kambing dalam gramasi Dirham/Dinar. Nilai vs Nilai adalah hukum abadi.
        </div>
    </div>
</div>

<script>
    const baseLow = 2400.00; // Lantai Induk
    const gramPerOz = 31.1035;
    const beratDinar = 4.25;

    async function syncEquality() {
        try {
            // 1. Ambil Emas Live (Coingecko PAXG)
            const goldRes = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=pax-gold&vs_currencies=usd');
            const goldData = await goldRes.json();
            const goldSpotUSD = goldData['pax-gold'].usd;

            // 2. Ambil Kurs IDR (ER-API)
            const idrRes = await fetch('https://open.er-api.com/v6/latest/USD?t=' + Date.now());
            const idrData = await idrRes.json();
            const rateIDR = idrData.rates.IDR;

            // 3. LOGIKA INDUK (AUTO ANCHOR)
            const goldMidAnchorUSD = (baseLow + goldSpotUSD) / 2;
            
            // Konversi ke Rupiah per Dinar
            const anchorIDRPerDinar = (goldMidAnchorUSD / gramPerOz) * beratDinar * rateIDR;
            const marketIDRPerDinar = (goldSpotUSD / gramPerOz) * beratDinar * rateIDR;

            // 4. Update UI
            document.getElementById('anchor-idr').innerText = "Rp " + anchorIDRPerDinar.toLocaleString('id-ID', {maximumFractionDigits: 0});
            document.getElementById('market-idr').innerText = "Rp " + marketIDRPerDinar.toLocaleString('id-ID', {maximumFractionDigits: 0});
            document.getElementById('edu-anchor-val').innerText = anchorIDRPerDinar.toLocaleString('id-ID', {maximumFractionDigits: 0});

            document.getElementById('status-bar').innerHTML = 
                `<span class="live-dot"></span> LIVE SYNC: $${goldSpotUSD.toFixed(2)} | ANCHOR: $${goldMidAnchorUSD.toFixed(2)} | KURS: Rp ${rateIDR.toLocaleString('id-ID')}`;

        } catch (e) {
            document.getElementById('status-bar').innerText = "MENUNGGU SINKRONISASI DATA...";
        }
    }

    // Update tiap 20 detik
    setInterval(syncEquality, 20000);
    syncEquality();
</script>
</body>
</html>