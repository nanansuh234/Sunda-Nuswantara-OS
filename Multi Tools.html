<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sunda Nuswantara OS v3.1 (Fixed)</title>
    <style>
        :root {
            --bg-color: #050505;
            --card-bg: #111;
            --border: #333;
            --text-main: #00ff41; /* Hacker Green */
            --accent: #00ff41;
            --bio-color: #d4af37; /* Gold */
            --time-gold: #ffb700; /* Warna Jam Cakra */
            --date-blue: #38bdf8; /* Warna Tanggal Pasaran */
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Consolas', 'Courier New', monospace;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }

        /* Header Area */
        header {
            border-bottom: 2px solid var(--border);
            padding-bottom: 15px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .brand-section h1 {
            margin: 0;
            font-size: 1.5rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            text-shadow: 0 0 10px rgba(0, 255, 65, 0.5);
        }

        /* --- TAMPILAN JAM UTAMA (STYLE BARU) --- */
        .sys-info {
            text-align: right;
            font-family: 'Segoe UI', sans-serif;
        }

        .clock-box {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            line-height: 1.2;
        }

        .time-cakra {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--time-gold);
            letter-spacing: 2px;
            text-shadow: 0 0 15px rgba(255, 183, 0, 0.4);
            font-variant-numeric: tabular-nums;
        }

        .date-sunda {
            font-size: 0.95rem;
            color: var(--date-blue);
            font-weight: 600;
            margin-top: 2px;
            text-transform: capitalize;
        }

        .time-masehi {
            font-size: 0.7rem;
            color: #666;
            margin-top: 5px;
            border-top: 1px solid #222;
            padding-top: 2px;
            font-family: 'Consolas', monospace;
        }

        /* Filter & Grid */
        .filter-bar {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding-bottom: 10px;
            margin-bottom: 20px;
            scrollbar-width: none;
        }

        .filter-btn {
            background: var(--card-bg);
            border: 1px solid var(--border);
            color: #888;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            white-space: nowrap;
            font-family: inherit;
            font-size: 0.8rem;
            transition: 0.3s;
        }

        .filter-btn:hover, .filter-btn.active {
            border-color: var(--accent);
            color: var(--accent);
            background: rgba(0, 255, 65, 0.1);
        }
        
        .filter-btn.bio-btn:hover, .filter-btn.bio-btn.active {
            border-color: var(--bio-color);
            color: var(--bio-color);
            background: rgba(212, 175, 55, 0.1);
        }

        .app-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
        }

        .app-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            text-decoration: none;
            color: var(--text-main);
            transition: all 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 120px;
            position: relative;
            overflow: hidden;
        }

        .app-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent);
            box-shadow: 0 5px 15px rgba(0, 255, 65, 0.2);
        }

        .icon { font-size: 2.5rem; margin-bottom: 10px; filter: drop-shadow(0 0 5px rgba(255,255,255,0.2)); }
        .label { font-size: 0.8rem; font-weight: bold; text-transform: uppercase; }

        /* Kategori Warna */
        .cat-comms { border-top: 3px solid #d0f; }
        .cat-sensor { border-top: 3px solid #0ff; }
        .cat-nav { border-top: 3px solid #ff0; }
        .cat-eng { border-top: 3px solid #f90; }
        .cat-sec { border-top: 3px solid #f00; }
        .cat-bio { border-top: 3px solid var(--bio-color); color: #ffeeb0; }

        footer {
            margin-top: 50px;
            text-align: center;
            font-size: 0.7rem;
            color: #444;
            border-top: 1px solid #111;
            padding-top: 10px;
        }
    </style>
</head>
<body>

    <header>
        <div class="brand-section">
            <h1>Multi Tools Sunda OS</h1>
            <div style="font-size: 0.7rem; color: #666;">v3.1 [SYSTEM RESTORED]</div>
        </div>
        <div class="sys-info">
            <div class="clock-box" id="status-panel">
                <div class="time-cakra">--:--:--</div>
                <div class="date-sunda">Loading System...</div>
                <div class="time-masehi">...</div>
            </div>
        </div>
    </header>

    <div class="filter-bar">
        <button class="filter-btn active" onclick="filterApps('all')">ALL SYSTEMS</button>
        <button class="filter-btn bio-btn" onclick="filterApps('cat-bio')">BIO-FREQUENCY</button>
        <button class="filter-btn" onclick="filterApps('cat-eng')">ENGINEERING</button>
        <button class="filter-btn" onclick="filterApps('cat-sensor')">SENSORS</button>
        <button class="filter-btn" onclick="filterApps('cat-comms')">COMMS</button>
        <button class="filter-btn" onclick="filterApps('cat-sec')">SECURITY</button>
    </div>

    <div class="app-grid" id="grid"></div>

    <footer>
        &copy; 2026 SUNDA NUSWANTARA SURVIVAL SYSTEMS
    </footer>

    <script>
        // --- DATABASE APLIKASI ---
        const tools = [
            // BIO MODULE
            { url: 'Brown Noise.html', label: 'Anti-Resonance', icon: 'üõ°Ô∏è', cat: 'cat-bio' },
            { url: 'Schumann Resonance Generator (7.83 Hz).html', label: 'Earth Pulse', icon: 'üåç', cat: 'cat-bio' },
            { url: 'Pendamping Air Doa.html', label: 'Water Charger', icon: 'üíß', cat: 'cat-bio' },
            { url: 'Frequency of Gods.html', label: '963Hz God Freq', icon: '‚ú®', cat: 'cat-bio' },
            { url: 'Decalcify Pineal Gland.html', label: 'Pineal Decalc', icon: 'üß†', cat: 'cat-bio' },
            { url: 'Cymatic Organ with Live Sound Wave.html', label: 'Cymatic Gen', icon: 'üåÄ', cat: 'cat-bio' },
            { url: 'Cymatic Organ Pineal Activator Edition.html', label: 'Tartarian Cyma', icon: 'üí†', cat: 'cat-bio' },
            { url: 'hitung langkah kaki.html', label: 'Bio-Tracker', icon: 'üë£', cat: 'cat-bio' },
            // SURVIVAL MODULE
            { url: 'kalkulator.html', label: 'Scientific Calc', icon: 'üßÆ', cat: 'cat-eng' },
            { url: 'multi converter.html', label: 'Unit Converter', icon: '‚öñÔ∏è', cat: 'cat-eng' },
            { url: 'freq gen.html', label: 'Signal Gen', icon: '„Ä∞Ô∏è', cat: 'cat-sensor' },
            { url: 'spectrum_analyzer.html', label: 'Spectrum Eye', icon: 'üëÅÔ∏è', cat: 'cat-sensor' },
            { url: 'seismometer.html', label: 'Vibro Analyzer', icon: 'üìâ', cat: 'cat-sensor' },
            { url: 'sentry cctv.html', label: 'Sentry Watch', icon: 'üìπ', cat: 'cat-sec' },
            { url: 'morse decoder.html', label: 'Morse Decoder', icon: 'üìª', cat: 'cat-comms' },
            { url: 'soundchat.html', label: 'Sonic Modem', icon: 'üîä', cat: 'cat-comms' },
            { url: 'gps location.html', label: 'GPS Radar', icon: 'üß≠', cat: 'cat-nav' },
            { url: 'rangefinder.html', label: 'Sniper Scope', icon: 'üî≠', cat: 'cat-nav' },
            { url: 'scan jarak.html', label: 'Hitung Jarak Antar Lokasi Sebenarnya', icon: 'üåç', cat: 'cat-nav' },
            { url: 'nuswantara area scanner.html', label: 'Hitung Luas Wilayah', icon: 'üåç', cat: 'cat-nav' },
            { url: 'scan map.html', label: 'Cari Peta Kordinat', icon: 'üåç', cat: 'cat-nav' }
        ];

        // --- 1. LOGIKA JAM (Cakra) ---
        function getNuswantaraClock(now) {
            const h = now.getHours();
            const m = now.getMinutes();
            const s = now.getSeconds();

            // 12 Jam Masehi = 8 Jam Nuswantara
            let mTotalMin = ((h % 12) * 60) + m + (s/60);
            let nTotalHours = mTotalMin / 90;
            
            let dHour = Math.floor(nTotalHours) || 8; 
            let dMin = Math.floor((nTotalHours % 1) * 90);
            let dSec = Math.floor(((nTotalHours * 90) % 1) * 60);

            // Padding 0
            const fH = String(dHour).padStart(2, '0');
            const fM = String(dMin).padStart(2, '0');
            const fS = String(dSec).padStart(2, '0');

            return `${fH}:${fM}:${fS}`;
        }

        // --- 2. LOGIKA KALENDER (Fix Tahun 001) ---
        const months = ["Wiwitan", "Gangga", "Bija", "Trubus", "Teja", "Baskara", "Kartika", "Huma", "Phala", "Lumbung", "Reswara", "Purnaka", "Suwung"];
        const pasarans = ["Legi", "Pahing", "Pon", "Wage", "Kliwon"];
        
        // Config Tahun Era Baru
        const yearConfig = {
            "2025": { label: "001" },
            "2026": { label: "002" },
            "2027": { label: "003" }
        };

        function getNuswantaraDate(now) {
            const yr = now.getFullYear();
            
            // Anchor: Tahun Baru adalah 21 Maret
            let anchor = new Date(yr, 2, 21); 
            
            // FIX: Jika tanggal sekarang < 21 Maret, berarti masih ikut tahun sebelumnya
            if (now < anchor) {
                anchor = new Date(yr - 1, 2, 21);
            }
            
            // Hitung selisih hari
            let diff = Math.floor((now - anchor) / 86400000);
            
            // Hitung Bulan (1 Bulan = 28 Hari)
            let nMonthIdx = Math.floor(diff / 28);
            let nDate = (diff % 28) + 1;
            if (nMonthIdx > 12) nMonthIdx = 12;

            // Hitung Pasaran
            let totalDays = ((yr - 2025) * 365) + diff; 
            if (yr < 2025) totalDays = diff;
            let pIdx = (2 + (totalDays % 5)) % 5;
            if (pIdx < 0) pIdx += 5;

            // FIX: Ambil Label Tahun dari ANCHOR, bukan tahun sekarang
            let anchorYear = anchor.getFullYear(); // Ini bakal dapet 2025 kalau sekarang Jan 2026
            let eraYear = yearConfig[String(anchorYear)] ? yearConfig[String(anchorYear)].label : "---";

            return `${pasarans[pIdx]}, ${nDate} ${months[nMonthIdx]} ${eraYear}`;
        }

        // --- MAIN UPDATE LOOP ---
        function updateSystem() {
            const now = new Date();
            
            const nusClock = getNuswantaraClock(now);
            const nusDate = getNuswantaraDate(now);
            const masehi = now.toLocaleDateString('id-ID', { 
                weekday: 'short', day: 'numeric', month: 'short', year: 'numeric' 
            }) + " " + now.toLocaleTimeString('id-ID', {hour12: false});

            const panel = document.getElementById('status-panel');
            panel.innerHTML = `
                <div class="time-cakra">${nusClock}</div>
                <div class="date-sunda">${nusDate}</div>
                <div class="time-masehi">${masehi}</div>
            `;
        }

        // --- RENDER APPS ---
        const grid = document.getElementById('grid');
        function render(filter) {
            grid.innerHTML = '';
            tools.forEach(tool => {
                if (filter === 'all' || tool.cat === filter) {
                    const a = document.createElement('a');
                    a.href = tool.url;
                    a.className = `app-card ${tool.cat}`;
                    a.innerHTML = `<div class="icon">${tool.icon}</div><div class="label">${tool.label}</div>`;
                    grid.appendChild(a);
                }
            });
        }
        function filterApps(category) {
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            render(category);
        }

        // INIT
        setInterval(updateSystem, 1000);
        updateSystem();
        render('all');

    </script>
</body>
</html>



